extends Node

const b0 = "res://sprites/bit0.png"
const b1 = "res://sprites/bit1.png"
const gateEmpty = "res://sprites/gateEmpty.png"
const gateX = "res://sprites/gateX.png"
const gateY = "res://sprites/gateY.png"
const gateZ = "res://sprites/gateZ.png"
const gateS = "res://sprites/gateS.png"
const gateH = "res://sprites/gateH.png"
const gateCtrl = "res://sprites/gateCtrl.png"
const gateCXt = "res://sprites/gateCXtop.png"
const gateCXb = "res://sprites/gateCXbot.png"

const texts = {
	0 : [
		"Это квантовая схема", "\n\n",
		"Слева показано входное состояние кубита (квантового бита)", "\n",
		"\n[i]|0⟩[/i]\n\n",
		"Когда вы нажмете кнопку [b]провести измерение[/b], ",
		"результат работы схемы появится здесь\n\n",
		"Вывод вида",
		"\n\n[i]|0⟩[/i] : 100%\n[i]|1⟩[/i]  :   0%\n\n",
		"означает, что выходом вашей схемы является состояние [i]|0⟩[/i]",
	],
	1 : [
		"[b]Гейт Паули-X (NOT)[/b]\n\n",
		"инвертирует состояние кубита\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateX, gateEmpty, " [b][i]|1⟩[/i][/b]", "\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateX, gateEmpty, " [b][i]|0⟩[/i][/b]", "\n",
		"[code]*[вход] -[гейт]- [выход][/code]\n\n",
		"Как и классический бит, кубит может находиться в состояниях ", 
		"[i]|0⟩[/i] и [i]|1⟩[/i]", "\n\n",
		"Вы можете изменять состояние кубитов с помощью квантовых логических вентилей", "\n\n",
		"Например, это гейт Паули-X (NOT-гейт)", "\n\n",
		"res://sprites/gateX.png", "\n\n",
		"Гейт Паули-X (как и NOT-гейт в классической логике) ",
		"преобразует кубит из состояния [i]|0⟩[/i] в [i]|1⟩[/i] и наоборот.",
	],
	2 : [
		"Система может состоять из нескольких кубитов. ",
		"Состояние каждого кубита представлено не индивидуально, ",
		"а как единая система. \n\n",
		"Например, в двухкубитной системе состояние [i]|10⟩[/i] ",
		"означает, что первый кубит находится в состоянии [i]|0⟩[/i], а ",
		"второй кубит - в состоянии [i]|1⟩[/i].",
	],
	3 : [],
	4 : [
		"[b]Управляющий узел[/b]\n\n",
		"включает или выключает гейт в зависимости от состояния управляющих кубитов\n",
		"Пример, CNOT (Управляемый NOT) :\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateCXt, gateEmpty, " [b][i]|0⟩[/i][/b]", "\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateCXb, gateEmpty, " [b][i]|0⟩[/i][/b]", "\n\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateCXt, gateEmpty, " [b][i]|1⟩[/i][/b]", "\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateCXb, gateEmpty, " [b][i]|1⟩[/i][/b]", "\n\n",
		"X-гейт активируется и инвертирует нижний кубит только если верхний кубит ",
		"(управляющий кубит) находится в состоянии [i]|1⟩[/i]\n\n",
		"Для управления потоком вашего квантового алгоритма можно использовать управляющие узлы. ",
		"Если узел соединен с гейтом, этот гейт будет активен только когда ",
		"управляющий кубит находится в состоянии [i]|1⟩[/i]",
	],
	5 : [],
	6 : [],
	7 : [
		"[b]Гейт Адамара[/b]\n\n",
		"преобразует кубит из базового состояния в суперпозицию\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateH, gateEmpty, 
		" [b][i]|0⟩ + |1⟩[/i][/b]", "\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateH, gateEmpty, 
		" [b][i]|0⟩ – |1⟩[/i][/b]", "\n",
		"[code]*не нормализовано[/code]\n",
		"\n",
		"Самое интересное в квантовых системах - это [b]суперпозиция[/b]. ",
		"Кубит может находиться в состоянии, называемом [b]суперпозицией[/b].\n\n",
		"[i]|0⟩[/i] и [i]|1⟩[/i] называются базовыми состояниями, ",
		"а кубит может находиться в суперпозиции этих состояний, ",
		"что означает: при измерении кубита ",
		"есть вероятность получить либо [i]|0⟩[/i], либо [i]|1⟩[/i]",
		". Или, как говорят некоторые, кубит находится в нескольких состояниях одновременно",
		"\n\n",
		"Интересная интерпретация этого феномена: ",
		"гейт Адамара разделяет вселенную на две версии. ",
		"В одной кубит находится в состоянии [i]|0⟩[/i], ",
		"а в другой - в состоянии [i]|1⟩[/i]",
		"[img=500]res://img/hadamard-split.png[/img]",
	],
	8 : [],
	9 : [],
	10 : [],
	11 : [
		"Запутанность - это когда две или более квантовых системы имеют связанные свойства.\n\n",
		"Например, два кубита могут быть запутаны так, что при измерении оба всегда окажутся в одинаковом состоянии. ",
		"Как в состоянии [i]|00⟩ + |11⟩[/i]: если первый кубит измерен как [i]|0⟩[/i], ",
		"то единственно возможное состояние системы - [i]|00⟩[/i], значит второй кубит тоже должен быть [i]|0⟩[/i].\n\n",
		"В отличие от состояния [i]|00⟩ + |01⟩ + |10⟩ + |11⟩[/i], где кубиты независимы. ",
		"Знание состояния одного не дает информации о состоянии другого",
	],
	12 : [],
	13 : [
		"Коэффициент состояния содержит информацию о так называемой [b]фазе[/b]. ",
		"Например, и [i]|1⟩[/i], и [i]-|1⟩[/i] означают состояние [i]|1⟩[/i], ",
		"но с противоположными фазами.\n\n",
		"Напомним, что при применении гейта Адамара к базовому состоянию:\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateH, gateEmpty, 
		" [b][i]|0⟩ + |1⟩[/i][/b]", "\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateH, gateEmpty, 
		" [b][i]|0⟩ – |1⟩[/i][/b]", "\n",
		"[code]*не нормализовано[/code]\n\n",
		"Оба состояния [i]|0⟩ + |1⟩[/i] и [i]|0⟩ – |1⟩[/i] ",
		"являются суперпозициями базовых состояний [i]|0⟩[/i] и [i]|1⟩[/i]. ",
		"При измерении оба дадут [i]|0⟩[/i] в 50% случаев ",
		"и [i]|1⟩[/i] в 50% случаев.\n\n",
		"Фаза базовых состояний несет дополнительную информацию о кубите. ",
		"Это видно при последовательном применении двух [b]гейтов Адамара[/b] - ",
		"некоторые состояния интерферируют, и кубит возвращается в исходное состояние.\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateH, 
		" [b][i]|0⟩ + |1⟩[/i][/b]", gateH, gateEmpty,
		" [b][i]|0⟩[/i][/b]",
		"\n",
		"[i]H|0⟩ → |0⟩ + |1⟩[/i]\n",
		"[i]H(|0⟩+|1⟩) = H|0⟩ + H|1⟩ → |0⟩ + |1⟩ + |0⟩ - |1⟩ = 2|0⟩[/i]\n\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateH, 
		" [b][i]|0⟩ - |1⟩[/i][/b]", gateH, gateEmpty,
		" [b][i]|1⟩[/i][/b]",
		"\n",
		"[i]H|1⟩ → |0⟩ – |1⟩[/i]\n",
		"[i]H(|0⟩-|1⟩) = H|0⟩ – H|1⟩ → |0⟩ + |1⟩ – (|0⟩ – |1⟩) = 2|1⟩[/i]\n\n\n",
		"[code]*почему здесь результат [i]2|⋅⟩[/i], а не просто [i]|⋅⟩[/i], будет объяснено на следующем уровне[/code]"
	],
	14 : [
		"Коэффициент также содержит информацию о вероятности измерения определенных состояний.\n\n",
		"Ранее мы использовали ненормализованную запись вида [i]|0⟩ + |1⟩[/i]. ",
		"Здесь вероятность можно увидеть по соотношению коэффициентов. ",
		"В ненормализованном состоянии [i]4|0⟩ + 2|1⟩[/i] вероятность измерить [i]|0⟩[/i] ",
		"выше, чем [i]|1⟩[/i].\n\n",
		"Вероятность измерения определенного состояния лучше видна в нормализованной записи.\n\n",
		"Для состояния [i]|ψ⟩ = α|0⟩ + β|1⟩[/i],\n",
		"вероятность измерить [i]|0⟩[/i] равна [i]|α|[/i]², а\n",
		"вероятность измерить [i]|1⟩[/i] равна [i]|β|[/i]².\n\n",
		"оба [i]α[/i] и [i]β[/i] могут быть комплексными числами.",
		"\n\n",
		"Нормализованный гейт Адамара:\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateH, gateEmpty, 
		" [b][i](|0⟩ + |1⟩)/sqrt(2)[/i][/b]", "\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateH, gateEmpty, 
		" [b][i](|0⟩ – |1⟩)/sqrt(2)[/i][/b]", "\n",
		"Видно, что после применения одного гейта Адамара результирующее состояние имеет ",
		"коэффициенты [i]1/sqrt(2)[/i], значит вероятность измерения ",
		"каждого базового состояния равна [i][1/sqrt(2)][/i]²[i] = 1/2 = 50%[/i].\n\n",
		"Используя это, вычислим эффект от двух гейтов Адамара:\n\n",
		"[i]H(H|0⟩)[/i]\n",
		"[i]= H(|0⟩/sqrt(2) + |1⟩/sqrt(2))[/i]\n",
		"[i]= H|0⟩/sqrt(2) + H|1⟩/sqrt(2)[/i]\n",
		"[i]= (|0⟩/sqrt(2) + |1⟩/sqrt(2))/sqrt(2) + (|0⟩/sqrt(2) – |1⟩/sqrt(2))/sqrt(2)[/i]\n",
		"[i]= (|0⟩ + |1⟩)/2 + (|0⟩ – |1⟩)/2[/i]\n",
		"[i]= |0⟩/2 + |1⟩/2 + |0⟩/2 – |1⟩/2[/i]\n",
		"[i]= |0⟩[/i]",
	],
	15 : [],
	16 : [
		"[b]Гейт Паули-Z[/b]\n\n",
		"инвертирует фазу состояния [i]|1⟩[/i], не затрагивая [i]|0⟩[/i]\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateZ, gateEmpty, " [b][i]|0⟩[/i][/b]", "\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateZ, gateEmpty, " [b][i]–|1⟩[/i][/b]", "\n\n",
		"для состояния суперпозиции:\n\n",
		"[b][i]α|0⟩ + β|1⟩[/i][/b] ", gateEmpty, gateZ, gateEmpty, 
		" [b][i]α|0⟩ + (–β)|1⟩[/i][/b]", "\n",
	],
	17 : [],
	18 : [
		"[b]Гейт Паули-Y[/b]\n\n",
		"Инвертирует и поворачивает фазу [i]|0⟩[/i] и [i]|1⟩[/i] на [i]±π/2[/i]\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateY, gateEmpty, " [b][i]i|1⟩[/i][/b]", "\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateY, gateEmpty, " [b][i]–i|0⟩[/i][/b]", "\n\n",
		"для состояния суперпозиции:\n\n",
		"[b][i]α|0⟩ + β|1⟩[/i][/b] ", gateEmpty, gateY, gateEmpty, 
		" [b][i]–βi|0⟩ + αi|1⟩[/i][/b]", "\n",
	],
	19 : [
		"[b]Фазовый гейт[/b]\n\n",
		"Поворачивает фазу [i]|1⟩[/i] на [i]π/2[/i] (умножение на [i]i[/i])\n\n",
		"[b][i]|0⟩[/i][/b] ", gateEmpty, gateS, gateEmpty, " [b][i]|0⟩[/i][/b]", "\n",
		"[b][i]|1⟩[/i][/b] ", gateEmpty, gateS, gateEmpty, " [b][i]i|1⟩[/i][/b]", "\n\n",
		"для состояния суперпозиции:\n\n",
		"[b][i]α|0⟩ + β|1⟩[/i][/b] ", gateEmpty, gateS, gateEmpty, 
		" [b][i]α|0⟩ + βi|1⟩[/i][/b]", "\n",
	],
	20 : [],
	21 : [],
	22 : [],
	23 : [],
	24 : [],
	25 : [],
	26 : [],
	27 : [],
	28 : [],
	29 : [],
	30 : [],
	31 : [],
	32 : [],
	33 : [],
	34 : [],
	35 : [],
	36 : [],
	37 : [],
	38 : [],
	39 : [],
	40 : [],
	41 : [],
	42 : [],
	43 : [],
	44 : [],
	45 : [],
	46 : [],
	47 : [],
	48 : [],
	49 : [],
	50 : [],
	51 : [],
	52 : [],
	53 : [],
	54 : [],
	55 : [],
	56 : [],
	57 : [],
	58 : [],
	59 : [],
	60 : [],
	61 : [],
	62 : [],
	63 : [],
	64 : [],
	65 : [],
	66 : [],
	67 : [],
	68 : [],
	69 : [],
	70 : [],
	101 : [],
	102 : [],
	103 : [],
	104 : [],
}
